<p>cliente-form works!</p>
<div class="cliente-form-page">
  <h1 *ngIf="!esEdicion">Nuevo Cliente</h1>
  <h1 *ngIf="esEdicion">Editar Cliente</h1>

  <div *ngIf="cargando" class="info">Cargando datos...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" *ngIf="!cargando">
    <div class="form-grid">
      <div class="form-group">
        <label>Tipo de identificación</label>
        <select formControlName="tipo_identificacion">
          <option value="" disabled>Seleccionar...</option>
          <option *ngFor="let t of tiposIdentificacion" [value]="t">
            {{ t | titlecase }}
          </option>
        </select>
      </div>

            <div class="form-group">
        <label>Número de identificación</label>
        <input formControlName="numero_identificacion" type="text" />
        <div class="errores" *ngIf="form.get('numero_identificacion')?.touched">
            <small *ngIf="tieneError('numero_identificacion', 'required')">
            El número de identificación es obligatorio.
            </small>
          
        </div>
        </div>


      <div class="form-group">
        <label>Nombres</label>
        <input formControlName="nombres" type="text" />
        <div class="errores" *ngIf="form.get('nombres')?.touched">
            <small *ngIf="tieneError('nombres', 'required')">
            El nombre es obligatorio.
            </small>
            <small *ngIf="tieneError('nombres', 'pattern')">
            Solo se permiten letras y espacios.
            </small>
        </div>
        </div>


      <div class="form-group">
        <label>Apellidos</label>
        <input formControlName="apellidos" type="text" />
        <div class="errores" *ngIf="form.get('apellidos')?.touched">
            <small *ngIf="tieneError('apellidos', 'required')">
            El apellido es obligatorio.
            </small>
            <small *ngIf="tieneError('apellidos', 'pattern')">
            Solo se permiten letras y espacios.
            </small>
        </div>
        </div>

      <div class="form-group">
        <label>Fecha de nacimiento</label>
        <input formControlName="fecha_nacimiento" type="date" />
      </div>

      <div class="form-group">
        <label>Nacionalidad</label>
        <input formControlName="nacionalidad" type="text" />
      </div>

      <div class="form-group full">
        <label>Dirección</label>
        <input formControlName="direccion" type="text" />
      </div>

      <div class="form-group">
        <label>Departamento</label>
        <input formControlName="departamento" type="text" />
      </div>

      <div class="form-group">
        <label>Distrito</label>
        <input formControlName="distrito" type="text" />
      </div>

      <div class="form-group">
        <label>Capital</label>
        <input formControlName="ciudad" type="text" />
      </div>

      <div class="form-group">
        <label>Teléfono</label>
        <input formControlName="telefono" type="text" />
        <div class="errores" *ngIf="form.get('telefono')?.touched">
            <small *ngIf="tieneError('telefono', 'pattern')">
            Solo se permiten números.
            </small>
        </div>
        </div>


      <div class="form-group">
        <label>Email</label>
        <input formControlName="email" type="email" />
      </div>

      <div class="form-group">
        <label>Estado</label>
        <select formControlName="estado">
          <option *ngFor="let e of estados" [value]="e">
            {{ e }}
          </option>
        </select>
      </div>
    </div>

    <div class="acciones">
      <button type="button" class="btn-cancelar" (click)="cancelar()">
        Cancelar
      </button>

      <button type="submit" class="btn-guardar" [disabled]="guardando">
        {{ guardando ? 'Guardando...' : 'Guardar' }}
      </button>
    </div>
  </form>
</div>
